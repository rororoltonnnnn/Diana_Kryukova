Схема сущностей

@startuml
skinparam BackgroundColor #F8F9FA
skinparam ClassBackgroundColor #E3F2FD
skinparam ClassBorderColor #1976D2
skinparam ClassArrowColor #1976D2
skinparam Shadowing false

left to right direction

package "Справочники" {
class ГОРОДА_СПРАВКА {
+ id: int
+ название: str
}

class РАЙОНЫ_СПРАВКИ {
+ id: int
+ название: str
+ город_id: int
}
}

package "Клиенты и машины" {
class КЛИЕНТ {
+ id: int
+ ФИО: str
+ телефон: str
}

class МАШИНА {
+ id: int
+ марка: str
+ модель: str
+ гос_номер: str
+ клиент_id: int
}
}

package "Автомойка" {
class МОЙКА {
+ id: int
+ название: str
+ адрес: str
+ район_id: int
}

class РАБОТНИКИ {
+ id: int
+ ФИО: str
+ должность: str
+ мойка_id: int
}

class БОКСЫ {
+ id: int
+ номер: str
+ статус: str
+ мойка_id: int
}

class УСЛУГИ {
+ id: int
+ название: str
+ цена: int
+ мойка_id: int
}
}

package "Заказы" {
class ЗАКАЗ {
+ id: int
+ дата_создания: date
+ статус: str
+ сумма: int
+ клиент_id: int
+ машина_id: int
+ мойка_id: int
+ бокс_id: int
+ услуга_id: int
+ работник_id: int
}
}

' Связи справочников
ГОРОДА_СПРАВКА ||--o{ РАЙОНЫ_СПРАВКИ : "имеет"

' Связи клиентов и машин
КЛИЕНТ ||--o{ МАШИНА : "владеет"

' Связи мойки
МОЙКА ||--o{ РАБОТНИКИ : "нанимает"
МОЙКА ||--o{ БОКСЫ : "содержит"
МОЙКА ||--o{ УСЛУГИ : "предлагает"

' Связи мойки со справочниками
МОЙКА }o--|| РАЙОНЫ_СПРАВКИ : "расположена в"

' Связи заказа со всеми сущностями
ЗАКАЗ }|--|| КЛИЕНТ : "выполнен для"
ЗАКАЗ }|--|| МАШИНА : "для машины"
ЗАКАЗ }|--|| МОЙКА : "в мойке"
ЗАКАЗ }|--|| БОКСЫ : "в боксе"
ЗАКАЗ }|--|| УСЛУГИ : "услуга"
ЗАКАЗ }|--|| РАБОТНИКИ : "исполнитель"

note right of КЛИЕНТ
Один клиент может иметь
несколько машин
(1 ко многим)
end note

note right of МОЙКА
Каждая мойка имеет
работников, боксы и услуги
(1 ко многим)
end note

note right of ЗАКАЗ
Центральная сущность,
объединяющая все связи
для формирования заказа
end note
@enduml
